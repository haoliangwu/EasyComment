<style>
    div {width:600px;border:1px solid red;}
</style>
<div contenteditable="true" id="editor">
    <div>abdf</div>
    金樽清酒斗十千，玉盘珍馐值万钱。<br/>
    停杯投箸不能食，拔剑四顾心茫然。<br/>
    欲渡黄河冰塞川，将登太行雪满山。<br/>
    闲来垂钓碧溪上，忽复乘舟梦日边。<br/>
    行路难！行路难！多歧路，今安在？<br/>
    长风破浪会有时，直挂云帆济沧海。<br/>
</div>
<input type="button" onclick="test()"/>
<script>
    //变量初始化
    function test() {

       var sel=document.getSelection();
    var range,editor;
    range=sel.getRangeAt(0);
        range.deleteContents();
        var newNode = document.createElement("p");
        newNode.appendChild(document.createTextNode("New Node Inserted Here"));
//        range.selectNode(document.getElementsByTagName("div").item(0));

        range.insertNode(document.createTextNode("New Node Inserted Here"));
        console.log(range.toString());

    editor=document.getElementById("editor");
    //选中editor内的所有文字

    }

</script>