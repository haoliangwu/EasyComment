<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
    <title>前端开发</title>
</head>

<body>
<SCRIPT LANGUAGE="JavaScript">
    function test() {
        var maxtime;
        if(window.name==''){
            maxtime = 1*60;
        }else{
            maxtime = window.name;
        }

        return function() {
            return maxtime;
        }();
    }


    function CountDown(){
        var maxtime=test();
        if(maxtime>=0){
            hours = Math.floor(maxtime/3600);
            minutes = Math.floor((maxtime-hours*3600)/60);
            seconds = Math.floor(maxtime%60);
            msg = "距离考试结束还有"+hours+"时"+minutes+"分"+seconds+"秒";
            document.all["timer"].innerHTML = msg;
            if(maxtime == 5*60) alert('注意，还有5分钟!');
            --maxtime;
            window.name = maxtime;
        }
        else{
            clearInterval(timer);
            alert("考试时间到，结束!");
        }
    }

    timer = setInterval("CountDown()",1000);
</SCRIPT>
<div id="timer" style="color:red"></div>

</body>
</html>